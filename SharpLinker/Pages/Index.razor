@page "/"
@inject IJSRuntime JsRuntime;
@using Models
@using Enums
@using Services.Interfaces
@using Services

Welcome to SharpLinker. It`s your next-gen extension for navigating code files.

@code {
    static IComunicationResolver _comunicationResolver = new ComunicationResolver();

    protected override async Task OnInitializedAsync()
    {
        var data = new Message
        {
            Action = PageActions.OnLoaded,
        };

        await JsRuntime.InvokeAsync<object>("sendMessage", data);
    }

    private void SubscribeForActions()
    {
        //_comunicationResolver.Subscribe(PageActions.GetAuthorizationUrl, )
    }

    //private Message

    [JSInvokable]
    public static object OnMessage(Message data)
    {
        _comunicationResolver.Resolve(data);
        var response = new Message
        {
            Action = PageActions.GetWelcomeTextResponse,
            Data = "Hello world from C#"
        };
        return response;
    }
}
